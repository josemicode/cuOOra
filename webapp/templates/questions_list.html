{% extends "base.html" %}

{% block title %}Todas las preguntas{% endblock %}

{% block content %}
<main class="p-6">
    <h2 class="text-xl font-semibold mb-4">{{ preguntas|length }} Preguntas publicadas</h2>

    <div class="space-y-4">
        {% for pregunta in preguntas %}
        <div class="border rounded p-4 shadow-sm">
            <h3 class="text-lg font-bold">{{ pregunta.title }}</h3>
            <p class="text-gray-600">{{ pregunta.description }}</p>

            <div class="flex justify-between mt-2 text-sm text-gray-500">
                <span>Publicada por {{ pregunta.user.username }}</span>
                <span>{{ pregunta.timestamp|date:"d M Y H:i" }}</span>
            </div>

            <div class="mt-2 text-sm text-blue-600">
                {% for topic in pregunta.topics.all %}
                    <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded mr-2">{{ topic.name }}</span>
                {% endfor %}
            </div>
        </div>
        {% endfor %}
    </div>
</main>
{% endblock %}
